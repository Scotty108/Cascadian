# Candidate Wallets Pool

## Overview

This file contains a curated pool of high-quality CLOB-eligible wallets for PnL validation and testing.

## Generation

Generated by: `scripts/pnl/build-candidate-pool.ts`

Run with: `npm run pnl:build-candidate-pool`

## Selection Criteria

Wallets are selected based on:

1. **Minimum Activity**: `mapped_clob_rows >= 2000`
   - Ensures sufficient trading history for meaningful PnL analysis

2. **Data Quality**: `mapping_pct >= 99.5%`
   - Ensures condition_id mapping is near-perfect
   - All selected wallets achieve 100% mapping quality

## Data Structure

Each wallet entry contains:

```json
{
  "wallet_address": "0x...",     // Full Ethereum address
  "clob_rows": 123456,            // Total CLOB rows
  "mapped_clob_rows": 123456,     // Successfully mapped rows
  "mapping_pct": 100.00,          // Mapping quality percentage
  "markets": 5678                 // Unique markets traded
}
```

## Statistics (Current Pool)

- **Total Wallets**: 500
- **CLOB Rows Range**: 76,288 - 62,104,766
- **Average CLOB Rows**: 561,688
- **Average Markets**: 4,668
- **Mapping Quality**: 100% (all wallets)

## Distribution

### By CLOB Activity
- 50K+ rows: 500 wallets (100%)

### By Market Diversity
- 500+ markets: 442 wallets (88.4%)
- 200-500 markets: 42 wallets (8.4%)
- 100-200 markets: 11 wallets (2.2%)
- 50-100 markets: 3 wallets (0.6%)
- 0-50 markets: 2 wallets (0.4%)

## Use Cases

This candidate pool is ideal for:

1. **V17 PnL Engine Testing**
   - Validate PnL calculations against high-quality data
   - Minimize noise from poor data mapping

2. **Benchmark Creation**
   - Select representative wallets across activity levels
   - Build test fixtures for regression testing

3. **Performance Analysis**
   - Test engine performance on high-volume wallets
   - Identify optimization opportunities

## Notes

- All wallets have perfect (100%) condition_id mapping
- Minimum activity threshold naturally filters to 76K+ CLOB rows
- Wallets are sorted by mapped_clob_rows (descending)
- Data reflects state at time of generation (check git log for timestamp)

## Related Scripts

- `scripts/pnl/test-v17-from-benchmark-table.ts` - Test V17 against benchmarks
- `scripts/pnl/capture-ui-pnl-50-wallets.ts` - Capture UI PnL snapshots
- `scripts/pnl/seed-ui-benchmarks-from-file.ts` - Load benchmarks to ClickHouse
